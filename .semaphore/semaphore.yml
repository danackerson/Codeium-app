
version: v1.0
name: MyPipeline
agent:
  machine:
    type: e1-standard-2
blocks:
  - name: 'Build and Test'
    task:
      jobs:
        - name: 'Build and Start App'
          commands:
            - checkout
            - echo "Installing Node.js..."
            - npm install
            - echo "Installing dependencies..."
            - ls -la
            - node .semaphore/app.js 
            - echo "Starting the Node.js application..."
            - echo "Waiting for the application to start..." 
            - echo "Testing if the application is up and running..."
            - curl -s http://localhost:3000/ 
            - echo "Application is up and running!"